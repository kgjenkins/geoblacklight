<%= warn "#{__FILE__} is a deprecated partial." %>
<%- renderable_fields = blacklight_config.search_fields.values.collect { |field_def| [label_for_search_field(field_def.key), field_def.key] if should_render_field?(field_def)}.compact %>
<%= render((blacklight_config&.view_config(document_index_view_type)&.search_bar_component ||Blacklight::SearchBarComponent).new(
    url: search_action_url,
    advanced_search_url: search_action_url(action: 'advanced_search'),
    search_fields: renderable_fields,
    params: search_state.params_for_search.except(:qt),
    autocomplete_path: search_action_path(action: :suggest)))  %>
